<section class="section" data-section-id="{{ section.id }}" data-section-type="home-logo-carousel">
  <div class="container">
    <div class="home-logo-carousel_heading">
      <h2 class="section__title heading h3">{{ section.settings.heading }}</h2>
    </div>
    <div class="home-logo-carousel_container slider" 
         data-settings="{'desktop_slide_count': {{ section.settings.desktop_slide_count }}, 'laptop_slide_count': {{ section.settings.laptop_slide_count }}, 'mobile_slide_count': {{ section.settings.mobile_slide_count }} }">
      <div class="slide-track-1">
      {% for block in section.blocks %}
      	{% case block.type %}
      		{% when 'logo_slide' %}
      			<!-- <div class="home-logo-carousel_item colored">
                  <a href="{{ block.settings.logo_slide_url }}"><img class="lazyload image--fade-in" data-src="{{ block.settings.logo_slide_image | img_url: "small" }}" data-widths="[{{ supported_sizes }}]" data-sizes="auto"></a>
      			</div>  -->
                <div class="slide">
                    <a href="{{ block.settings.logo_slide_url }}"><img class="lazyload image--fade-in" data-src="{{ block.settings.logo_slide_image | img_url: "small" }}"></a>
                </div>
      	{% endcase %}
      {% endfor %}
      </div>
    </div>
  </div>
</section>

<style>
  .section[data-section-id="{{ section.id }}"] .home-logo-carousel_container .home-logo-carousel_item {
  width: calc(100% / {{ section.settings.desktop_slide_count }});
  }
  
  @media screen and (max-width: 1200px) {
   	.section[data-section-id="{{ section.id }}"] .home-logo-carousel_container .home-logo-carousel_item {
    width: calc(100% / {{ section.settings.laptop_slide_count }});
    } 
  }
  
  @media screen and (max-width: 768px) {
    .section[data-section-id="{{ section.id }}"] .home-logo-carousel_container .home-logo-carousel_item {
    width: calc(100% / {{ section.settings.mobile_slide_count }});
    } 
  }
</style>

{% schema %}
  {
    "name": "Home Logo Carousel",
    "settings": [
		{
			"type": "text",
			"id": "heading",
			"label": "Heading"
		},
		{
			"type": "range",
			"id": "desktop_slide_count",
			"min": 3,
			"max": 10,
			"label": "Desktop Slide Count",
			"default": 5
		},
		{
			"type": "range",
			"id": "laptop_slide_count",
			"min": 2,
			"max": 6,
			"label": "Laptop Slide Count",
			"default": 3
		},
		{
			"type": "range",
			"id": "mobile_slide_count",
			"min": 1,
			"max": 3,
			"label": "Mobile Slide Count",
			"default": 1
		}
	],
	"blocks": [
		{
			"type": "logo_slide",
			"name": "Logo Slider",
			"settings": [
				{
					"type": "image_picker",
					"id": "logo_slide_image",
					"label": "Logo image"
				},
				{
					"type": "url",
					"id": "logo_slide_url",
					"label": "Logo Slide Link"
				}
			]
		}
	],
	"presets": [
      	{
        	"category": "Custom Sections",
        	"name": "Home Logo Carousel",
        	"settings": {}
      	}
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
