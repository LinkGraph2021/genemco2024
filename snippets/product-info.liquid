{%- assign selected_variant = product.selected_or_first_available_variant -%}

<div class="card {% if product.media.size > 0 %}card--collapsed{% endif %} {% if template.name == 'product' %}card--sticky{% endif %}">

  <div class="card__section">
    {% comment %}
    ------------------------------------------------------------------------------
    PRODUCT META
    ------------------------------------------------------------------------------
    {% endcomment %}

    {%- if section.settings.show_share_buttons -%}
      {%- capture share_buttons -%}
        {%- assign share_url = shop.url | append: product.url -%}
        {%- assign twitter_text = product.title | url_param_escape -%}
        {%- assign pinterest_description = product.description | strip_html | truncatewords: 15 | url_param_escape -%}
        {%- assign pinterest_image = product.featured_media | img_url: '1024x' | prepend: 'https:' -%}

        <ul class="social-media__item-list list--unstyled">
          <li class="social-media__item social-media__item--facebook">
            <a href="https://www.facebook.com/sharer.php?u={{ share_url }}" target="_blank" rel="noopener" aria-label="{{ 'general.social.facebook_share' | t }}">{%- render 'icon', icon: 'facebook' -%}</a>
          </li>

          <li class="social-media__item social-media__item--pinterest">
            <a href="https://pinterest.com/pin/create/button/?url={{ share_url }}{% if pinterest_image != blank %}&media={{ pinterest_image }}{% endif %}&description={{ pinterest_description }}" target="_blank" rel="noopener" aria-label="{{ 'general.social.pinterest_pin' | t }}">{%- render 'icon', icon: 'pinterest' -%}</a>
          </li>

          <li class="social-media__item social-media__item--twitter">
            <a href="https://twitter.com/share?{% if twitter_text != blank %}text={{twitter_text}}&{% endif %}url={{ share_url }}" target="_blank" rel="noopener" aria-label="{{ 'general.social.twitter_tweet' | t }}">{%- render 'icon', icon: 'twitter' -%}</a>
          </li>

          <li class="social-media__item">
            <a href="mailto:?&subject={{ product.title | escape }}&body={{ share_url }}" aria-label="{{ 'general.social.email_share' | t }}">{% render 'icon', icon: 'email' %}</a>
          </li>
        </ul>
      {%- endcapture -%}
    {%- endif -%}

    <div class="product-meta">
      {%- if template.name == 'product' and template != 'product.quick-view' -%}
        <h1 class="product-meta__title heading h1">{{ product.title }}</h1>
      {%- else -%}
        <h3 class="product-meta__title heading h2">
          <a href="{{ product.url }}">{{ product.title }}</a>
        </h3>
      {%- endif -%}

      {%- capture product_labels -%}
        {%- for tag in product.tags -%}
          {%- if tag contains '__label:' -%}
            <span class="product-label product-label--custom1">{{ tag | split: '__label:' | last }}</span>
          {%- endif -%}

          {%- if tag contains '__label1:' -%}
            <span class="product-label product-label--custom1">{{ tag | split: '__label1:' | last }}</span>
          {%- endif -%}

          {%- if tag contains '__label2:' -%}
            <span class="product-label product-label--custom2">{{ tag | split: '__label2:' | last }}</span>
          {%- endif -%}
        {%- endfor -%}

        {%- if settings.show_discount -%}
          {%- assign savings = 0 -%}

          {%- if settings.discount_mode == 'percentage' -%}
            {%- assign savings = selected_variant.compare_at_price | minus: selected_variant.price | times: 100.0 | divided_by: selected_variant.compare_at_price | round | append: '%' -%}
          {%- else -%}
            {%- capture savings -%}<span>{{ selected_variant.compare_at_price | minus: selected_variant.price | money_without_trailing_zeros }}</span>{%- endcapture -%}
          {%- endif -%}

          <span class="product-label product-label--on-sale" {% unless selected_variant.price < selected_variant.compare_at_price %}style="display: none"{% endunless %}>{{ 'collection.product.discount_html' | t: savings: savings }}</span>
        {%- endif -%}
      {%- endcapture -%}

      {%- if product_labels != blank -%}
        <div class="product-meta__label-list">
          {{- product_labels -}}
        </div>
      {%- endif -%}

      {%- if section.settings.show_vendor or section.settings.show_sku -%}
        <div class="product-meta__reference">
          {%- if section.settings.show_vendor -%}
            {%- assign vendor_handle = product.vendor | handle -%}
            {%- assign collection_for_vendor = collections[vendor_handle] -%}

            {%- unless collection_for_vendor.empty? -%}
              <a class="product-meta__vendor link link--accented" href="{{ collection_for_vendor.url }}">{{ product.vendor }}</a>
            {%- else -%}
              <a class="product-meta__vendor link link--accented" href="{{ product.vendor | url_for_vendor }}">{{ product.vendor }}</a>
            {%- endunless -%}
          {%- endif -%}

          {%- if section.settings.show_sku -%}
            <span class="product-meta__sku" {% if selected_variant.sku == blank %}style="display: none"{% endif %}>
              {{- 'product.general.sku' | t -}} <span class="product-meta__sku-number">{{ selected_variant.sku }}</span>
            </span>
          {%- endif -%}
        </div>
      {%- endif -%}

      {%- if section.settings.show_reviews_badge -%}
        <a href="{% if template.name != 'product' or template == 'product.quick-view' %}{{ product.url | within: collection }}{% endif %}#product-reviews" class="product-meta__reviews-badge link" data-offset="30">
          <span class="shopify-product-reviews-badge" data-id="{{ product.id }}">
            {%- comment -%}Display a placeholder, to allocate space{%- endcomment -%}
            <div class="spr-badge" style="opacity: 0">
              <span class="spr-starrating spr-badge-starrating">
                <i class="spr-icon spr-icon-star-empty"></i>
                <i class="spr-icon spr-icon-star-empty"></i>
                <i class="spr-icon spr-icon-star-empty"></i>
                <i class="spr-icon spr-icon-star-empty"></i>
                <i class="spr-icon spr-icon-star-empty"></i>
              </span>

              <span class="spr-badge-caption">filler</span>
            </div>
          </span>
        </a>
      {%- endif -%}

      {%- if section.settings.show_share_buttons -%}
        <div class="product-meta__share-buttons hidden-phone">
          {{ share_buttons }}
        </div>
      {%- endif -%}
    </div>

    <hr class="card__separator">

    {%- if request.page_type == 'index' and section.settings.show_description and product.description != blank and section.settings.description_below_add_to_cart == false -%}
      <div class="product-meta__description rte">
        {{ product.description | remove: 'data-section-type="product"' }}
      </div>
    {%- endif -%}

    {% comment %}
    ------------------------------------------------------------------------------
    PRODUCT FORM
    ------------------------------------------------------------------------------
    {% endcomment %}

    {%- assign color_label = 'color,colour,couleur,cor,colore,farbe,색,色,カラー,färg,farve' | split: ',' -%}

    {%- form 'product', product, class: 'product-form' -%}
      {%- unless product.has_only_default_variant -%}
        <div class="product-form__variants">
          {%- for option in product.options_with_values -%}
            {%- assign downcase_option = option.name | downcase -%}
            {%- capture option_name -%}{{ section.id }}-{{ product.id }}-{{ forloop.index }}{%- endcapture -%}

            {%- assign option_selector_type = 'select' -%}

            {%- if section.settings.color_mode != 'block' and section.settings.color_mode != 'dropdown' and color_label contains downcase_option -%}
              {%- comment -%}NOTE: even if the merchant is using the mode to display variant images, if ALL variant do not have an associated image, we fallback to color{%- endcomment -%}

              {%- assign has_image_attached_to_all_variants = true -%}

              {%- for variant in product.variants -%}
                {%- unless variant.image -%}
                  {%- assign has_image_attached_to_all_variants = false -%}
                  {%- break -%}
                {%- endunless -%}
              {%- endfor -%}

              {%- if section.settings.color_mode == 'color' or has_image_attached_to_all_variants == false -%}
                {%- assign option_selector_type = 'color' -%}
              {%- else -%}
                {%- assign option_selector_type = 'variant' -%}
              {%- endif -%}
            {%- else -%}
              {%- if color_label contains downcase_option -%}
                {%- if section.settings.color_mode == 'block' -%}
                  {%- assign option_selector_type = 'block' -%}
                {%- endif -%}
              {%- elsif section.settings.selector_mode == 'block' -%}
                {%- assign option_selector_type = 'block' -%}
              {%- endif -%}
            {%- endif -%}

            <div class="product-form__option" data-selector-type="{{ option_selector_type }}">
              {%- case option_selector_type -%}
                {%- when 'color' -%}
                  <span class="product-form__option-name text--strong">{{ option.name }}: <span class="product-form__selected-value">{{ option.selected_value }}</span></span>

                  <div class="color-swatch-list color-swatch-list--large">
                    {%- for value in option.values -%}
                      {%- assign downcased_value = value | downcase -%}
                      {%- capture color_id -%}{{ option_name }}-{{ forloop.index }}{%- endcapture -%}

                      {%- assign color_swatch_name = value | handle | append: '.png' -%}
                      {%- assign color_swatch_image = images[color_swatch_name] -%}

                      <div class="color-swatch {% if downcased_value == 'white' or downcased_value == 'blanc' %}color-swatch--white{% endif %}">
                        <input class="color-swatch__radio product-form__single-selector" type="radio" name="{{ option_name }}" id="{{ color_id }}" value="{{ value | escape }}" {% if option.selected_value == value %}checked{% endif %} data-option-position="{{ option.position }}" aria-hidden="true">
                        <label class="color-swatch__item lazyload" for="{{ color_id }}" {% if color_swatch_image != blank %}data-bg="{{ color_swatch_image | img_url: '64x64' }}"{% else %}style="background-color: {{ value | replace: ' ', '' | downcase }}"{% endif %} title="{{ value | escape }}">{% render 'icon', icon: 'cross-sold-out' %}</label>
                      </div>
                    {%- endfor -%}
                  </div>
                {%- when 'variant' -%}
                  <span class="product-form__option-name text--strong">{{ option.name }}: <span class="product-form__selected-value">{{ option.selected_value }}</span></span>

                  <div class="variant-swatch-list">
                    {%- capture option_name -%}option{{ option.position }}{%- endcapture -%}

                    {%- for value in option.values -%}
                      {%- capture variant_swatch_id -%}{{ option_name }}-{{ forloop.index }}{%- endcapture -%}

                      {%- for variant in product.variants -%}
                        {%- if variant[option_name] == value and variant.image -%}
                          <div class="variant-swatch">
                            <input class="variant-swatch__radio product-form__single-selector" type="radio" name="{{ option_name }}" id="{{ variant_swatch_id }}" value="{{ value | escape }}" {% if option.selected_value == value %}checked{% endif %} data-option-position="{{ option.position }}">

                            <label class="variant-swatch__item" for="{{ variant_swatch_id }}" title="{{ value | escape }}">
                              <div class="aspect-ratio" style="padding-bottom: {{ 100.0 | divided_by: variant.image.aspect_ratio }}%">
                                <img src="{{ variant.image | img_url: '120x' }}" alt="{{ variant.image.alt | escape }}">
                              </div>

                              {% render 'icon', icon: 'cross-sold-out' %}
                            </label>
                          </div>

                          {%- break -%}
                        {%- endif -%}
                      {%- endfor -%}
                    {%- endfor -%}
                  </div>
                {%- when 'block' -%}
                  <span class="product-form__option-name text--strong">{{ option.name }}: <span class="product-form__selected-value">{{ option.selected_value }}</span></span>

                  <div class="block-swatch-list">
                    {%- for value in option.values -%}
                      {%- capture block_swatch_id -%}{{ option_name }}-{{ forloop.index }}{%- endcapture -%}

                      <div class="block-swatch">
                        <input class="block-swatch__radio product-form__single-selector" type="radio" name="{{ option_name }}" id="{{ block_swatch_id }}" value="{{ value | escape }}" {% if option.selected_value == value %}checked{% endif %} data-option-position="{{ option.position }}" aria-hidden="true">
                        <label class="block-swatch__item" for="{{ block_swatch_id }}" title="{{ value | escape }}">
                          <span class="block-swatch__item-text">{{ value }}</span>
                        </label>
                      </div>
                    {%- endfor -%}
                  </div>
                {%- when 'select' -%}
                  <label for="{{ option_name }}" class="product-form__option-name text--strong">{{ option.name }}: <span class="product-form__selected-value">{{ option.selected_value }}</span></label>

                  <div class="select-wrapper select-wrapper--primary">
                    {%- render 'icon', icon: 'arrow-bottom' -%}

                    <select class="product-form__single-selector" name="{{ option_name }}" id="{{ option_name }}" data-option-position="{{ option.position }}">
                      {%- for value in option.values -%}
                        <option value="{{ value | escape }}" {% if value == option.selected_value %}selected="selected"{% endif %}>{{ value }}</option>
                      {%- endfor -%}
                    </select>
                  </div>
              {%- endcase -%}
            </div>
          {%- endfor -%}

          <div class="no-js product-form__option">
            <label for="product-select-{{ product.id }}">{{ 'product.form.variant' | t }}</label>

            <div class="select-wrapper select-wrapper--primary">
              <select id="product-select-{{ product.id }}" name="id">
                {%- for variant in product.variants -%}
                  <option {% if variant == selected_variant %}selected="selected"{% endif %} {% unless variant.available %}disabled="disabled"{% endunless %} value="{{ variant.id }}" data-sku="{{ variant.sku }}">{{ variant.title }} - {{ variant.price | money }}</option>
                {%- endfor -%}
              </select>
            </div>
          </div>
        </div>
      {%- else -%}
        <input type="hidden" name="id" data-sku="{{ selected_variant.sku }}" value="{{ selected_variant.id }}">
      {%- endunless -%}
    
      <div class="product-form__info-list">
        <div class="product-form__info-item">
          <span class="product-form__info-title text--strong">{{ 'product.form.price' | t }}:</span>

          <div class="product-form__info-content">
            <div class="price-list">
              {%- if selected_variant.compare_at_price > selected_variant.price -%}
                <span class="price price--highlight">{{ selected_variant.price | money_without_trailing_zeros }}</span>
                <span class="price price--compare">{{ selected_variant.compare_at_price | money_without_trailing_zeros }}</span>
              {%- else -%}
                <span class="price">{{ selected_variant.price | money_without_trailing_zeros }}</span>
              {%- endif -%}
            </div>

            <div class="product-form__price-info" style="display: {% if selected_variant.unit_price_measurement %}block{% else %}none{% endif %}">
              <div class="unit-price-measurement">
                <span class="unit-price-measurement__price">{{ selected_variant.unit_price | money_without_trailing_zeros }}</span>
                <span class="unit-price-measurement__separator">/ </span>

                {%- if selected_variant.unit_price_measurement.reference_value != 1 -%}
                  <span class="unit-price-measurement__reference-value">{{ selected_variant.unit_price_measurement.reference_value }}</span>
                {%- endif -%}

                <span class="unit-price-measurement__reference-unit">{{ selected_variant.unit_price_measurement.reference_unit }}</span>
              </div>
            </div>

            {%- if section.settings.show_taxes_included -%}
              {%- if shop.taxes_included or shop.shipping_policy.body != blank -%}
                <p class="product-form__price-info">
                  {%- if shop.taxes_included -%}
                    {{ 'product.general.include_taxes' | t }}
                  {%- endif -%}

                  {%- if shop.shipping_policy.body != blank -%}
                    {{ 'product.general.shipping_policy_html' | t: link: shop.shipping_policy.url }}
                  {%- endif -%}
                </p>
              {%- endif -%}
            {%- endif -%}
          </div>
        </div>

        {%- if section.settings.show_inventory_quantity and product.template_suffix != 'pre-order' -%}
          <div class="product-form__info-item">
            <span class="product-form__info-title text--strong">{{ 'product.form.inventory' | t }}:</span>

            <div class="product-form__info-content">
              {%- if selected_variant.available -%}
                {%- if selected_variant.inventory_management and selected_variant.inventory_policy == 'deny' and section.settings.low_inventory_threshold > 0 -%}
                  {%- if selected_variant.inventory_quantity <= section.settings.low_inventory_threshold -%}
                    <span class="product-form__inventory inventory inventory--low">{{ 'product.form.low_stock_with_quantity_count' | t: count: selected_variant.inventory_quantity }}</span>
                  {%- else -%}
                    <span class="product-form__inventory inventory inventory--high">{{ 'product.form.in_stock_with_quantity_count' | t: count: selected_variant.inventory_quantity }}</span>
                  {%- endif -%}
                {%- else -%}
                  {%- if selected_variant.inventory_policy == 'continue' and selected_variant.inventory_quantity <= 0 -%}
                    <span class="product-form__inventory inventory inventory--high">{{ 'product.form.oversell_stock' | t }}</span>
                  {%- else -%}
                    <span class="product-form__inventory inventory inventory--high">{{ 'product.form.in_stock' | t }}</span>
                  {%- endif -%}
                {%- endif -%}
              {%- else -%}
                <span class="product-form__inventory inventory">{{ 'product.form.sold_out' | t }}</span>
              {%- endif -%}

              {%- for tag in product.tags -%}
                {%- if tag contains '__stock:' -%}
                  {%- assign stock_countdown_max = tag | split: '__stock:' | last | times: 1.0 -%}
                  {%- assign stock_countdown_progress = selected_variant.inventory_quantity | divided_by: stock_countdown_max | times: 100.0 | at_least: 0 | at_most: 100 -%}

                  <span class="inventory-bar {% if stock_countdown_progress == 0 %}inventory-bar--hidden{% endif %}" data-stock-countdown-max="{{ stock_countdown_max }}">
                    <span class="inventory-bar__progress" style="width: 100%"></span>
                  </span>
                  {%- break -%}
                {%- endif -%}
              {%- endfor -%}
            </div>
          </div>
        {%- endif -%}

        {%- if product.template_suffix != 'contact' -%}
          {%- if section.settings.show_quantity_selector -%}
            <div class="product-form__info-item product-form__info-item--quantity">
              <label for="{{ section.id }}-{{ product.id }}-quantity" class="product-form__info-title text--strong">{{ 'product.form.quantity' | t }}:</label>

              <div class="product-form__info-content">
                <div class="select-wrapper select-wrapper--small select-wrapper--primary">
                  {%- render 'icon', icon: 'arrow-bottom' -%}

                  <select name="quantity" id="{{ section.id }}-{{ product.id }}-quantity" class="product-form__quantity">
                    {%- for i in (1..10) -%}
                      <option value="{{ i }}" {% if forloop.first %}selected="selected"{% endif %}>{% if i < 10 %}{{ i }}{% else %}{{ i }}+{% endif %}</option>
                    {%- endfor -%}
                  </select>
                </div>
              </div>
            </div>
          {%- else -%}
            <input type="hidden" name="quantity" value="1">
          {%- endif -%}
        {%- endif -%}
      </div>

      <div class="product-form__payment-container">
        {%- if product.template_suffix != 'contact' -%}
          {%- if selected_variant.available -%}
            {%- if product.template_suffix == 'pre-order' -%}
              <button type="submit" class="product-form__add-button button button--primary" data-action="add-to-cart">{{ 'product.form.pre_order' | t }}</button>
            {%- else -%}
              <button type="submit" class="product-form__add-button button button--primary" data-action="add-to-cart">{{ 'product.form.add_to_cart' | t }}</button>
            {%- endif -%}
          {%- else -%}
            <button type="submit" class="product-form__add-button button button--disabled" disabled>{{ 'product.form.sold_out' | t }}</button>
          {%- endif -%}

          {%- if section.settings.show_payment_button -%}
            {{ form | payment_button }}
          {%- endif -%}
        {%- else -%}
          <a href="mailto:{{ shop.email }}" class="button button--primary">{{ 'product.form.contact_us' | t }}</a>
        {%- endif -%}
      </div>
    {%- endform -%}

    {%- if request.page_type == 'index' and section.settings.show_description and product.description != blank and section.settings.description_below_add_to_cart -%}
      <div class="product-meta__description rte">
        {{ product.description }}
      </div>
    {%- endif -%}
    {%- if selected_variant.available -%}
    <a class="btn btn-quick-quote">1-Click Quote</a>
    {%- endif -%}
    <a href="https://genemco.myshopify.com/pages/sell-equipment" class="btn sell-similar-items">Sell Similar Items</a>
    
    <div class="product-card-text">
      {% render 'how-to-get-a-quote' %}
      {% render 'internal-sales-data' %}
      
    </div>

    {%- if section.settings.show_share_buttons -%}
      <div class="product-meta__share-buttons hidden-tablet-and-up">
        <span class="text--strong">{{ 'product.general.share' | t }}</span>
        {{ share_buttons }}
      </div>
    {%- endif -%}
  </div>

  {%- if section.settings.show_payment_button and product.selected_or_first_available_variant.available == false -%}
    <style>
      #shopify-section-{{ section.id }} .shopify-payment-button {
        display: none;
      }
    </style>
  {%- endif -%}

  {% comment %}
  ------------------------------------------------------------------------------
  Product Data. This must be outputted for all products (including home page).

  IMPORTANT: THIS CODE IS VITAL. DO NOT EDIT IT NOT REMOVE IT. MAKE SURE TO KEEP
  THE EXACT SAME ATTRIBUTES.
  ------------------------------------------------------------------------------
  {% endcomment %}
<style>
  #genemco-customer-checkout .genemco-form__wrapper{
    padding:10px;
  }
  .genemco-accordian-container{
    margin-top:0px;
  }
  #genemco-customer-checkout form>div textarea::placeholder{
    color:#afafaf;
  }
  .fancybox__slide{
    max-width:50%;
  }
  .fancybox__backdrop{
    background: var(--fancybox-bg, rgba(0, 0, 0, 0.62));
  }
</style>
  <script type="application/json" data-product-json>
    {
      "product": {{ product | json }},
      "options_with_values": {{ product.options_with_values | json }},
      "selected_variant_id": {{ selected_variant.id }}
      {%- if section.settings.show_inventory_quantity -%}
        ,"inventories": {
          {%- for variant in product.variants -%}
            {%- if variant.available -%}
              {%- if variant.inventory_management and variant.inventory_policy == 'deny' and section.settings.low_inventory_threshold > 0 -%}
                {%- if variant.inventory_quantity <= section.settings.low_inventory_threshold -%}
                  {%- capture inventory_message -%}{{ 'product.form.low_stock_with_quantity_count' | t: count: variant.inventory_quantity }}{%- endcapture -%}
                {%- else -%}
                  {%- capture inventory_message -%}{{ 'product.form.in_stock_with_quantity_count' | t: count: variant.inventory_quantity }}{%- endcapture -%}
                {%- endif -%}
              {%- else -%}
                {%- if variant.inventory_policy == 'continue' and variant.inventory_quantity <= 0 -%}
                  {%- capture inventory_message -%}{{ 'product.form.oversell_stock' | t }}{%- endcapture -%}
                {%- else %}
                  {%- capture inventory_message -%}{{ 'product.form.in_stock' | t }}{%- endcapture -%}
                {%- endif -%}
              {%- endif -%}
            {%- else -%}
              {%- capture inventory_message -%}{{ 'product.form.sold_out' | t }}{%- endcapture -%}
            {%- endif -%}

            "{{ variant.id }}": {
              "inventory_management": {{ variant.inventory_management | json }},
              "inventory_policy": {{ variant.inventory_policy | json }},
              "inventory_quantity": {{ variant.inventory_quantity | json }},
              "inventory_message": {{ inventory_message | json }}
            }{% unless forloop.last %},{% endunless %}
          {%- endfor -%}
        }
      {%- endif -%}
    }
  </script>
<script>
    var customer_email = '';
    var product_id = '{{ product.id }}';
  </script>
  {% if customer %}<script>customer_email = '{{ customer.email }}';</script>{% endif %}
  <script>
    var login_user_info = '';
    var lang = 'English';
    var EngLang = 'checked';
    var SpaLang = '';
    var header,phara1,phara2,txtEmail,txtPhone,txtFirstName,txtLastName,txtCompany,txtOfferAmount,txtComment,txtPrefLang,txtSubmit,txtSubmitting;
    var contact_name,contact_email,contact_company,contact_phone,contact_address,contact_details;
    
    if(customer_email != ''){
      $.ajax({
         type:'POST',
         url: webhook_domain +"/webhooks/get-customer-info",
         data: {'email': customer_email},
         success:function(data){
            var obj = JSON.parse(data);
            lang = obj.preferred_language;
            if(lang=='English'){
              EngLang = 'checked';
              SpaLang = '';
              login_user_info = '<div class="login_user_info" style="margin-top:-15px;margin-bottom:35px;"><div class="contact-details-header">Contact Details</div>'+
              '<div class="contact-details"><span class="contact_name">Name</span>: '+ obj.first_name +' '+obj.last_name+'</div>'+
              '<div class="contact-details"><span class="contact_company">Company</span>: '+ obj.company_name +'</div>'+
              '<div class="contact-details"><span class="contact_email">Email</span>: '+ obj.email +'</div>'+
              '<div class="contact-details"><span class="contact_phone">Phone</span>: '+ obj.phone +'</div>'+
              '<div class="contact-details"><span class="contact_address">Address</span>: '+ obj.city +', '+obj.city+' '+obj.country+'</div>'+
              '<div class="contact-details"><span class="contact_preflang">Preferred language:</span> '+ obj.preferred_language +'</div></div>';
              
            }else{
              EngLang = '';
              SpaLang = 'checked';
              login_user_info = '<div class="login_user_info" style="margin-top:-15px;margin-bottom:35px;"><div class="contact-details-header">Detalles de contacto</div>'+
              '<div class="contact-details"><span class="contact_name">Nombre</span>: '+ obj.first_name +' '+obj.last_name+'</div>'+
              '<div class="contact-details"><span class="contact_company">Empresa</span>: '+ obj.company_name +'</div>'+
              '<div class="contact-details"><span class="contact_email">Correo Electrónico</span>: '+ obj.email +'</div>'+
              '<div class="contact-details"><span class="contact_phone">Teléfono</span>: '+ obj.phone +'</div>'+
              '<div class="contact-details"><span class="contact_address">Dirección</span>: '+ obj.city +', '+obj.city+' '+obj.country+'</div>'+
              '<div class="contact-details"><span class="contact_preflang">Idioma preferido:</span> '+ obj.preferred_language +'</div></div>';
            }

            
           }
        });
    }
    $('.btn-quick-quote').click(function(){
        var cust_info = '';
        var is_login_qc = 0;

        popupTranslate(lang);
        if(customer_email==''){
          is_login_qc = 0;
          cust_info = '<div class="form-wizard-wrapper">'+
            		'<div class="form-wizard-content-wrapper">'+
            			'<div class="form-wizard-content show" data-tab-content="info">'+
            				'<div>'+
            					'<div class="form-row" id="genemco-quick-quote-form">'+
            						'<div class="full-width">'+
                                        '<div class="form__input-wrapper form__input-wrapper--labelled">'+
                                          '<input type="email" id="email" class="genemco-field form__field form__field--text email required" name="email" required="required">'+
                                          '<label for="email" class="form__floating-label txtEmail">'+txtEmail+'*</label>'+
                                        '</div><span class="qq_email_error"></span>'+
                                      '</div>'+
            						'<div class="full-wdth clearfix">'+
            							'<a href="javascript:;" class="button button--primary form-wizard-next-btn-email">Click to Request Quote</a>'+
            						'</div>'+
            					'</div>'+
            				'</div>'+
            			'</div>'+
            			'<div class="form-wizard-content" data-tab-content="ads">'+
            				'<div>'+
            					'<div class="form-row" id="genemco-quick-quote-form">'+
            						'<div class="full-width">'+
                                        '<div class="form__input-wrapper form__input-wrapper--labelled">'+
                                          '<input type="text" id="first_name" class="genemco-field form__field form__field--text first_name required" name="first_name" required="required">'+
                                          '<label for="first_name" class="form__floating-label txtFirstName">'+txtFirstName+'*</label>'+
                                        '</div><span class="qq_fname_error"></span>'+
                                      '</div>'+
                                      '<div class="full-width">'+
                                        '<div class="form__input-wrapper form__input-wrapper--labelled">'+
                                          '<input type="text" id="last_name" class="genemco-field form__field form__field--text last_name required" name="last_name" required="required">'+
                                          '<label for="last_name" class="form__floating-label txtLastName">'+txtLastName+'*</label>'+
                                        '</div><span class="qq_lname_error"></span>'+
                                      '</div>'+
                                      '<div class="full-width">'+
                                        '<div class="form__input-wrapper form__input-wrapper--labelled">'+
                                          '<input type="text" id="company" class="genemco-field form__field form__field--text company required" name="company" required="required">'+
                                          '<label for="company" class="form__floating-label txtCompany">'+txtCompany+'*</label>'+
                                        '</div><span class="qq_company_error"></span>'+
                                      '</div>'+
            						'<div class="full-wdth clearfix">'+
            							'<a href="javascript:;" class="button button--primary form-wizard-next-btn-personal float-right">Next</a>'+
                                        '<a href="javascript:;" class="form-wizard-previous-btn float-left">Back</a>'+
            						'</div>'+
            					'</div>'+
            				'</div>'+
            			'</div>'+
            			'<div class="form-wizard-content" data-tab-content="placement">'+
            				'<div>'+
            					'<div class="form-row">'+
            						'<div class="full-width">'+
                                        '<div class="form__input-wrapper form__input-wrapper--labelled">'+
                                          '<input type="text" id="city" class="genemco-field form__field form__field--text city required" name="city" required="required">'+
                                          '<label for="city" class="form__floating-label txtCity">'+txtCity+'*</label>'+
                                        '</div><span class="qq_city_error"></span>'+
                                      '</div>'+
                                      '<div class="full-width">'+
                                        '<div class="form__input-wrapper form__input-wrapper--labelled">'+
                                          '<input type="text" id="state" class="genemco-field form__field form__field--text state required" name="state" required="required">'+
                                          '<label for="state" class="form__floating-label txtState">'+txtState+'*</label>'+
                                        '</div><span class="qq_state_error"></span>'+
                                      '</div>'+
                                      '<div class="full-wdth">'+
                                        '<div class="form__input-wrapper form__input-wrapper--labelled">'+
                                          '<select id="country" class="genemco-field form__field form__field--text country required" style="height:70px;" name="country" required="required">'+
                                              '<option value="" class="txtSelectCountry">'+txtSelectCountry+'</option>'+
                                              '<option value="United States of America">United States of America</option>'+
                                              '<option value="Canada">Canada</option>'+
                                              '<option value="Mexico">Mexico</option>'+
                                              '<option disabled="">---</option>'+
                                              '<option value="Afganistan">Afghanistan</option>'+
                                              '<option value="Albania">Albania</option>'+
                                              '<option value="Algeria">Algeria</option>'+
                                              '<option value="American Samoa">American Samoa</option>'+
                                              '<option value="Andorra">Andorra</option>'+
                                              '<option value="Angola">Angola</option>'+
                                              '<option value="Anguilla">Anguilla</option>'+
                                              '<option value="Antigua &amp; Barbuda">Antigua &amp; Barbuda</option>'+
                                              '<option value="Argentina">Argentina</option>'+
                                              '<option value="Armenia">Armenia</option>'+
                                              '<option value="Aruba">Aruba</option>'+
                                              '<option value="Australia">Australia</option>'+
                                              '<option value="Austria">Austria</option>'+
                                              '<option value="Azerbaijan">Azerbaijan</option>'+
                                              '<option value="Bahamas">Bahamas</option>'+
                                              '<option value="Bahrain">Bahrain</option>'+
                                              '<option value="Bangladesh">Bangladesh</option>'+
                                              '<option value="Barbados">Barbados</option>'+
                                              '<option value="Belarus">Belarus</option>'+
                                              '<option value="Belgium">Belgium</option>'+
                                              '<option value="Belize">Belize</option>'+
                                              '<option value="Benin">Benin</option>'+
                                              '<option value="Bermuda">Bermuda</option>'+
                                              '<option value="Bhutan">Bhutan</option>'+
                                              '<option value="Bolivia">Bolivia</option>'+
                                              '<option value="Bonaire">Bonaire</option>'+
                                              '<option value="Bosnia &amp; Herzegovina">Bosnia &amp; Herzegovina</option>'+
                                              '<option value="Botswana">Botswana</option>'+
                                              '<option value="Brazil">Brazil</option>'+
                                              '<option value="British Indian Ocean Ter">British Indian Ocean Ter</option>'+
                                              '<option value="Brunei">Brunei</option>'+
                                              '<option value="Bulgaria">Bulgaria</option>'+
                                              '<option value="Burkina Faso">Burkina Faso</option>'+
                                              '<option value="Burundi">Burundi</option>'+
                                              '<option value="Cambodia">Cambodia</option>'+
                                              '<option value="Cameroon">Cameroon</option>'+
                                              '<option value="Canary Islands">Canary Islands</option>'+
                                              '<option value="Cape Verde">Cape Verde</option>'+
                                              '<option value="Cayman Islands">Cayman Islands</option>'+
                                              '<option value="Central African Republic">Central African Republic</option>'+
                                              '<option value="Chad">Chad</option>'+
                                              '<option value="Channel Islands">Channel Islands</option>'+
                                              '<option value="Chile">Chile</option>'+
                                              '<option value="China">China</option>'+
                                              '<option value="Christmas Island">Christmas Island</option>'+
                                              '<option value="Cocos Island">Cocos Island</option>'+
                                              '<option value="Colombia">Colombia</option>'+
                                              '<option value="Comoros">Comoros</option>'+
                                              '<option value="Congo">Congo</option>'+
                                              '<option value="Cook Islands">Cook Islands</option>'+
                                              '<option value="Costa Rica">Costa Rica</option>'+
                                              '<option value="Cote DIvoire">Cote DIvoire</option>'+
                                              '<option value="Croatia">Croatia</option>'+
                                              '<option value="Cuba">Cuba</option>'+
                                              '<option value="Curaco">Curacao</option>'+
                                              '<option value="Cyprus">Cyprus</option>'+
                                              '<option value="Czech Republic">Czech Republic</option>'+
                                              '<option value="Denmark">Denmark</option>'+
                                              '<option value="Djibouti">Djibouti</option>'+
                                              '<option value="Dominica">Dominica</option>'+
                                              '<option value="Dominican Republic">Dominican Republic</option>'+
                                              '<option value="East Timor">East Timor</option>'+
                                              '<option value="Ecuador">Ecuador</option>'+
                                              '<option value="Egypt">Egypt</option>'+
                                              '<option value="El Salvador">El Salvador</option>'+
                                              '<option value="Equatorial Guinea">Equatorial Guinea</option>'+
                                              '<option value="Eritrea">Eritrea</option>'+
                                              '<option value="Estonia">Estonia</option>'+
                                              '<option value="Ethiopia">Ethiopia</option>'+
                                              '<option value="Falkland Islands">Falkland Islands</option>'+
                                              '<option value="Faroe Islands">Faroe Islands</option>'+
                                              '<option value="Fiji">Fiji</option>'+
                                              '<option value="Finland">Finland</option>'+
                                              '<option value="France">France</option>'+
                                              '<option value="French Guiana">French Guiana</option>'+
                                              '<option value="French Polynesia">French Polynesia</option>'+
                                              '<option value="French Southern Ter">French Southern Ter</option>'+
                                              '<option value="Gabon">Gabon</option>'+
                                              '<option value="Gambia">Gambia</option>'+
                                              '<option value="Georgia">Georgia</option>'+
                                              '<option value="Germany">Germany</option>'+
                                              '<option value="Ghana">Ghana</option>'+
                                              '<option value="Gibraltar">Gibraltar</option>'+
                                              '<option value="Great Britain">Great Britain</option>'+
                                              '<option value="Greece">Greece</option>'+
                                              '<option value="Greenland">Greenland</option>'+
                                              '<option value="Grenada">Grenada</option>'+
                                              '<option value="Guadeloupe">Guadeloupe</option>'+
                                              '<option value="Guam">Guam</option>'+
                                              '<option value="Guatemala">Guatemala</option>'+
                                              '<option value="Guinea">Guinea</option>'+
                                              '<option value="Guyana">Guyana</option>'+
                                              '<option value="Haiti">Haiti</option>'+
                                              '<option value="Hawaii">Hawaii</option>'+
                                              '<option value="Honduras">Honduras</option>'+
                                              '<option value="Hong Kong">Hong Kong</option>'+
                                              '<option value="Hungary">Hungary</option>'+
                                              '<option value="Iceland">Iceland</option>'+
                                              '<option value="Indonesia">Indonesia</option>'+
                                              '<option value="India">India</option>'+
                                              '<option value="Iran">Iran</option>'+
                                              '<option value="Iraq">Iraq</option>'+
                                              '<option value="Ireland">Ireland</option>'+
                                              '<option value="Isle of Man">Isle of Man</option>'+
                                              '<option value="Israel">Israel</option>'+
                                              '<option value="Italy">Italy</option>'+
                                              '<option value="Jamaica">Jamaica</option>'+
                                              '<option value="Japan">Japan</option>'+
                                              '<option value="Jordan">Jordan</option>'+
                                              '<option value="Kazakhstan">Kazakhstan</option>'+
                                              '<option value="Kenya">Kenya</option>'+
                                              '<option value="Kiribati">Kiribati</option>'+
                                              '<option value="Korea North">Korea North</option>'+
                                              '<option value="Korea South">Korea South</option>'+
                                              '<option value="Kuwait">Kuwait</option>'+
                                              '<option value="Kyrgyzstan">Kyrgyzstan</option>'+
                                              '<option value="Laos">Laos</option>'+
                                              '<option value="Latvia">Latvia</option>'+
                                              '<option value="Lebanon">Lebanon</option>'+
                                              '<option value="Lesotho">Lesotho</option>'+
                                              '<option value="Liberia">Liberia</option>'+
                                              '<option value="Libya">Libya</option>'+
                                              '<option value="Liechtenstein">Liechtenstein</option>'+
                                              '<option value="Lithuania">Lithuania</option>'+
                                              '<option value="Luxembourg">Luxembourg</option>'+
                                              '<option value="Macau">Macau</option>'+
                                              '<option value="Macedonia">Macedonia</option>'+
                                              '<option value="Madagascar">Madagascar</option>'+
                                              '<option value="Malaysia">Malaysia</option>'+
                                              '<option value="Malawi">Malawi</option>'+
                                              '<option value="Maldives">Maldives</option>'+
                                              '<option value="Mali">Mali</option>'+
                                              '<option value="Malta">Malta</option>'+
                                              '<option value="Marshall Islands">Marshall Islands</option>'+
                                              '<option value="Martinique">Martinique</option>'+
                                              '<option value="Mauritania">Mauritania</option>'+
                                              '<option value="Mauritius">Mauritius</option>'+
                                              '<option value="Mayotte">Mayotte</option>'+
                                              '<option value="Midway Islands">Midway Islands</option>'+
                                              '<option value="Moldova">Moldova</option>'+
                                              '<option value="Monaco">Monaco</option>'+
                                              '<option value="Mongolia">Mongolia</option>'+
                                              '<option value="Montserrat">Montserrat</option>'+
                                              '<option value="Morocco">Morocco</option>'+
                                              '<option value="Mozambique">Mozambique</option>'+
                                              '<option value="Myanmar">Myanmar</option>'+
                                              '<option value="Nambia">Nambia</option>'+
                                              '<option value="Nauru">Nauru</option>'+
                                              '<option value="Nepal">Nepal</option>'+
                                              '<option value="Netherland Antilles">Netherland Antilles</option>'+
                                              '<option value="Netherlands">Netherlands (Holland, Europe)</option>'+
                                              '<option value="Nevis">Nevis</option>'+
                                              '<option value="New Caledonia">New Caledonia</option>'+
                                              '<option value="New Zealand">New Zealand</option>'+
                                              '<option value="Nicaragua">Nicaragua</option>'+
                                              '<option value="Niger">Niger</option>'+
                                              '<option value="Nigeria">Nigeria</option>'+
                                              '<option value="Niue">Niue</optio>'+
                                              '<option value="Norfolk Island">Norfolk Island</option>'+
                                              '<option value="Norway">Norway</option>'+
                                              '<option value="Oman">Oman</option>'+
                                              '<option value="Pakistan">Pakistan</option>'+
                                              '<option value="Palau Island">Palau Island</option>'+
                                              '<option value="Papua New Guinea">Papua New Guinea</option>'+
                                              '<option value="Paraguay">Paraguay</option>'+
                                              '<option value="Peru">Peru</option>'+
                                              '<option value="Phillipines">Philippines</option>'+
                                              '<option value="Pitcairn Island">Pitcairn Island</option>'+
                                              '<option value="Poland">Poland</option>'+
                                              '<option value="Portugal">Portugal</option>'+
                                              '<option value="Puerto Rico">Puerto Rico</option>'+
                                              '<option value="Qatar">Qatar</option>'+
                                              '<option value="Republic of Montenegro">Republic of Montenegro</option>'+
                                              '<option value="Republic of Serbia">Republic of Serbia</option>'+
                                              '<option value="Reunion">Reunion</option>'+
                                              '<option value="Romania">Romania</option>'+
                                              '<option value="Russia">Russia</option>'+
                                              '<option value="Rwanda">Rwanda</option>'+
                                              '<option value="St Barthelemy">St Barthelemy</option>'+
                                              '<option value="St Eustatius">St Eustatius</option>'+
                                              '<option value="St Helena">St Helena</option>'+
                                              '<option value="St Kitts-Nevis">St Kitts-Nevis</option>'+
                                              '<option value="St Lucia">St Lucia</option>'+
                                              '<option value="St Maarten">St Maarten</option>'+
                                              '<option value="St Pierre &amp; Miquelon">St Pierre &amp; Miquelon</option>'+
                                              '<option value="St Vincent &amp; Grenadines">St Vincent &amp; Grenadines</option>'+
                                              '<option value="Saipan">Saipan</option>'+
                                              '<option value="Samoa">Samoa</option>'+
                                              '<option value="Samoa American">Samoa American</option>'+
                                              '<option value="San Marino">San Marino</option>'+
                                              '<option value="Sao Tome &amp; Principe">Sao Tome &amp; Principe</option>'+
                                              '<option value="Saudi Arabia">Saudi Arabia</option>'+
                                              '<option value="Senegal">Senegal</option>'+
                                              '<option value="Seychelles">Seychelles</option>'+
                                              '<option value="Sierra Leone">Sierra Leone</option>'+
                                              '<option value="Singapore">Singapore</option>'+
                                              '<option value="Slovakia">Slovakia</option>'+
                                              '<option value="Slovenia">Slovenia</option>'+
                                              '<option value="Solomon Islands">Solomon Islands</option>'+
                                              '<option value="Somalia">Somalia</option>'+
                                              '<option value="South Africa">South Africa</option>'+
                                              '<option value="Spain">Spain</option>'+
                                              '<option value="Sri Lanka">Sri Lanka</option>'+
                                              '<option value="Sudan">Sudan</option>'+
                                              '<option value="Suriname">Suriname</option>'+
                                              '<option value="Swaziland">Swaziland</option>'+
                                              '<option value="Sweden">Sweden</option>'+
                                              '<option value="Switzerland">Switzerland</option>'+
                                              '<option value="Syria">Syria</option>'+
                                              '<option value="Tahiti">Tahiti</option>'+
                                              '<option value="Taiwan">Taiwan</option>'+
                                              '<option value="Tajikistan">Tajikistan</option>'+
                                              '<option value="Tanzania">Tanzania</option>'+
                                              '<option value="Thailand">Thailand</option>'+
                                              '<option value="Togo">Togo</option>'+
                                              '<option value="Tokelau">Tokelau</option>'+
                                              '<option value="Tonga">Tonga</option>'+
                                              '<option value="Trinidad &amp; Tobago">Trinidad &amp; Tobago</option>'+
                                              '<option value="Tunisia">Tunisia</option>'+
                                              '<option value="Turkey">Turkey</option>'+
                                              '<option value="Turkmenistan">Turkmenistan</option>'+
                                              '<option value="Turks &amp; Caicos Is">Turks &amp; Caicos Is</option>'+
                                              '<option value="Tuvalu">Tuvalu</option>'+
                                              '<option value="Uganda">Uganda</option>'+
                                              '<option value="United Kingdom">United Kingdom</option>'+
                                              '<option value="Ukraine">Ukraine</option>'+
                                              '<option value="United Arab Erimates">United Arab Emirates</option>'+
                                              '<option value="Uraguay">Uruguay</option>'+
                                              '<option value="Uzbekistan">Uzbekistan</option>'+
                                              '<option value="Vanuatu">Vanuatu</option>'+
                                              '<option value="Vatican City State">Vatican City State</option>'+
                                              '<option value="Venezuela">Venezuela</option>'+
                                              '<option value="Vietnam">Vietnam</option>'+
                                              '<option value="Virgin Islands (Brit)">Virgin Islands (Brit)</option>'+
                                              '<option value="Virgin Islands (USA)">Virgin Islands (USA)</option>'+
                                              '<option value="Wake Island">Wake Island</option>'+
                                              '<option value="Wallis &amp; Futana Is">Wallis &amp; Futana Is</option>'+
                                              '<option value="Yemen">Yemen</option>'+
                                              '<option value="Zaire">Zaire</option>'+
                                              '<option value="Zambia">Zambia</option>'+
                                              '<option value="Zimbabwe">Zimbabwe</option>'+
                                            '</select>'+
                                          '<label for="country" class="form__floating-label txtCountry">'+txtCountry+'*</label>'+
                                        '</div><span class="qq_country_error"></span>'+
                                      '</div>'+
            						'<div class="full-wdth clearfix">'+
            							'<a href="javascript:;" class="button button--primary form-wizard-next-btn-location float-right">Next</a>'+
                                        '<a href="javascript:;" class="form-wizard-previous-btn float-left">Back</a>'+
            						'</div>'+
            					'</div>'+
            				'</div>'+
            			'</div>'+
            			'<div class="form-wizard-content" data-tab-content="schedule">'+
            				'<div>'+
            					'<div class="form-row">'+
            						'<div class="full-width">'+
                                        '<div class="form__input-wrapper form__input-wrapper--labelled">'+
                                          '<input type="text" id="phone" class="genemco-field form__field form__field--text phone required" name="phone" required="required">'+
                                          '<label for="phone" class="form__floating-label txtPhone">'+txtPhone+'*</label>'+
                                        '</div><span class="qq_phone_error"></span>'+
                                    '</div>'+
            						'<div class="full-wdth clearfix">'+
            							'<a href="javascript:;" class="button button--primary form-wizard-next-btn-phone float-right">Next</a>'+
                                        '<a href="javascript:;" class="form-wizard-previous-btn float-left">Back</a>'+
            						'</div>'+
            					'</div>'+
            				'</div>'+
            			'</div>'+
            			'<div class="form-wizard-content" data-tab-content="review">'+
            				'<div>'+
            					'<div class="form-row">'+
            						'<div class="full-width">'+
                                        '<div class="form__input-wrapper form__input-wrapper--labelled">'+
                                          '<input type="number" placeholder="$" id="offer_amount" class="genemco-field form__field form__field--text offer_amount" onkeypress="validates(event);" name="offer_amount">'+
                                          '<label for="offer_amount" class="form__floating-label txtOfferAmount">'+txtOfferAmount+'</label>'+
                                        '</div>'+
                                      '</div>'+
                                      '<div class="full-width">'+
                                        '<div class="form__input-wrapper form__input-wrapper--labelled">'+
                                          '<textarea id="comment" class="genemco-field form__field form__field--text comment" name="comment" style="height:80px;"></textarea>'+
                                          '<label for="comment" class="form__floating-label txtComment">'+txtComment+'</label>'+
                                        '</div>'+
                                      '</div>'+
            						'<div class="full-wdth clearfix">'+
            							'<input class="button button--primary form__submit_quick_quote float-right" value="'+txtSubmit+'" />'+
                                        '<a href="javascript:;" class="form-wizard-previous-btn float-left">Back</a>'+
            						'</div>'+
            					'</div>'+
            				'</div>'+
            			'</div>'+
            		'</div>'+
            	'</div>';
          
        }else{
          is_login_qc = 1;
          popupTranslate(lang);
          cust_info = '<div style="padding:0px 20px;">'+
                      '<div class="form-row">'+
                          '<div class="full-width">'+
                              '<div class="form__input-wrapper form__input-wrapper--labelled">'+
                                '<input type="number" placeholder="$" id="offer_amount" class="genemco-field form__field form__field--text offer_amount" onkeypress="validates(event);" name="offer_amount">'+
                                '<label for="offer_amount" class="form__floating-label txtOfferAmount">'+txtOfferAmount+'</label>'+
                              '</div>'+
                            '</div>'+
                            '<div class="full-width">'+
                              '<div class="form__input-wrapper form__input-wrapper--labelled">'+
                                '<textarea id="comment" class="genemco-field form__field form__field--text comment" name="comment" style="height:80px;"></textarea>'+
                                '<label for="comment" class="form__floating-label txtComment">'+txtComment+'</label>'+
                              '</div>'+
                            '</div>'+
                          '<div class="full-wdth clearfix">'+
                              '<input class="button button--primary form__submit_quick_quote float-right" value="'+txtSubmit+'" />'+
                          '</div>'+
                      '</div>'+
                  '</div>';
        }
        
        var quickQuoteDialog = new Fancybox([{
                src: '<div class="fancy_div">'+
                  '<div style="padding-left:10px;"><label class="txtPrefLang" style="padding-left:8px;margin-right:15px;">'+txtPrefLang+'</label><label class="radio-img">'+
                          '<input type="radio" name="rd_language" id="val_english" value="English" '+EngLang+' />'+
                          '<div class="trans_image trans_en" style="margin-left:0px;">English</div>'+
                        '</label>'+
                        '<label class="radio-img">'+
                          '<input type="radio" name="rd_language" id="val_spanish" value="Spanish" '+SpaLang+' />'+
                          '<div class="trans_image trans_es">Español</div>'+
                        '</label></div>'+
                  '<input type="hidden" class="preferred_lang" value="'+lang+'"/>'+
                  '<div class="product-meta__title heading popup_header h1" style="text-align:center;padding-bottom:20px;margin-top:30px;">'+header+'</div>'+
                  '<div class="phara1" style="text-align:justify;padding: 0px 19px;line-height: 20px;">'+phara1+'</div>'+
                  '<div class="phara2" style="text-align:justify;padding: 0px 19px;line-height: 20px;margin-top: 10px;margin-bottom: 10px;">'+phara2+'</div>'+
                  '<div style="color:red;font-size:15px;padding:5px;" class="error_msg"></div><div id="genemco-customer-checkout" class="genemco-checkout__container genemco-accordian-container">'+ login_user_info +
                      '<div class="genemco-accordian-item__content show-on-desktop show-on-mobile">'+
                      '<div class="genemco-form__wrapper">'+ 
                        '<form id="genemco-quick-quote-form" data-hs-cf-bound="true"><input type="hidden" name="product_id" value="'+product_id+'">'+
                        '</form>'+
                      '</div>'+
                    '</div>'+
                    '</div></div>'+cust_info,
                type: "html"
              }]);
              $(".fancybox__content").css("width", "500px");

              if($('.preferred_lang').val()=='Spanish'){
                $('#val_spanish').prop('checked',true);
              }else{
                $('#val_english').prop('checked',true);
              }

             $('.form__submit_quick_quote').on( "click", function( event ) {
                // $('.genemco-quick-quote-form').on( "submit", function( event ) {
                  var is_missing_value = 0;
                  $.each($("#genemco-quick-quote-form .required"), function (index, value) {
                      if(!$(value).val()){
                        is_missing_value = 1;
                        $('.genemco-quick-quote-form').on( "submit", function( event ) {});
                      }
                  });
                  if(is_missing_value==0){
                    $('.error_msg').hide();
                    $(".form__submit_quick_quote").prop( "disabled", true );
                    if(lang=='English'){
                      $(".form__submit_quick_quote").val("Submitting form...");
                    }else{
                      $(".form__submit_quick_quote").val("formulario de envío...");
                    }
                    
                    var trafficData = getCookie('trafficData');
                     $.ajax({
                     type:'POST',
                     url: webhook_domain +"/webhooks/submit-quick-quote",
                     data: {'data_traffic': trafficData,'product_id':product_id,'is_login': is_login_qc,'login_email': customer_email,'offer_amount':$('.offer_amount').val(),'comment': $('.comment').val(),'customer_email': $('.email').val(), 'phone': $('.phone').val(),'first_name': $('.first_name').val(),'last_name': $('.last_name').val(),'company': $('.company').val(),'preferred_lang': $('.preferred_lang').val(),'city': $('.city').val(),'state': $('.state').val(),'country': $('.country').val()},
                     success:function(data){
                         var result = JSON.parse(data);
                         sessionStorage.setItem("qi_name", result.name);
                       sessionStorage.setItem("qi_quote", result.qoute_id);
                       sessionStorage.setItem("qi_img", result.img);
                       sessionStorage.setItem("qi_sku", result.sku);
                       sessionStorage.setItem("qi_title", result.title);
                       sessionStorage.setItem("qi_desc", result.desc);
                       sessionStorage.setItem("qi_link", result.link);
                         
                         $(".form__submit_quick_quote").prop( "disabled", true );
                         setTimeout(function(){
                            window.location.replace("/pages/quick-quote-thank-you");
                        }, 5000);
                         
                          // if(lang=='English'){
                          //   $('.fancy_div').html('<div style="text-align:center;"><img width="25%" src="https://cdn.shopify.com/s/files/1/0058/3594/8078/files/success.png?v=1696619175"/><div class="product-meta__title heading h1" style="margin-top:20px;text-align:center;">Form has been successfully submitted!</div></div>');
                          // }else{
                          //   $('.fancy_div').html('<div style="text-align:center;"><img width="25%" src="https://cdn.shopify.com/s/files/1/0058/3594/8078/files/success.png?v=1696619175"/><div class="product-meta__title heading h1" style="margin-top:20px;text-align:center;">El formulario ha sido enviado exitosamente!</div></div>');
                          // }
                        }
                    });
                  }
              });

              $('input:radio[name=rd_language]').change(function () {
                if (this.value == 'English') {
                    lang = 'English';
                    $('.preferred_lang').val('English');
                }
                else if (this.value == 'Spanish') {
                    lang = 'Spanish';
                    $('.preferred_lang').val('Spanish');
                }
                popupTranslate(lang);
              });


              $(document).ready(function() {

			$('.form-wizard-wrapper').find('.form-wizard-link').click(function(){
				$('.form-wizard-link').removeClass('active');
				var innerWidth = $(this).innerWidth();
				$(this).addClass('active');
				var position = $(this).position();
				$('.form-wizardmove-button').css({"left": position.left, "width": innerWidth});
				var attr = $(this).attr('data-attr');
				$('.form-wizard-content').each(function(){
					if ($(this).attr('data-tab-content') == attr) {
						$(this).addClass('show');
					}else{
						$(this).removeClass('show');
					}
				});
			});
			
            $('.form-wizard-next-btn-email').click(function() {
				var next = $(this);
                var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
                var isEmail = 0;
                if( !emailReg.test($('.email').val()) ) {
                    isEmail = 0;
                } else {
                    isEmail = 1;
                }
                if($('.email').val()!="" && isEmail==1){
                    $('.qq_email_error').html('');
                    $('.email').removeClass('input--invalid');
    				next.parents('.form-wizard-content').removeClass('show');
    				next.parents('.form-wizard-content').next('.form-wizard-content').addClass('show');
    				$(document).find('.form-wizard-content').each(function(){
    					if($(this).hasClass('show')){
    						var formAtrr = $(this).attr('data-tab-content');
    						$(document).find('.form-wizard-wrapper li a').each(function(){
    							if($(this).attr('data-attr') == formAtrr){
    								$(this).addClass('active');
    								var innerWidth = $(this).innerWidth();
    								var position = $(this).position();
    								$(document).find('.form-wizardmove-button').css({"left": position.left, "width": innerWidth});
    							}else{
    								$(this).removeClass('active');
    							}
    						});
    					}
    				});
                }else{
                  $('.qq_email_error').html('Please make sure your email is valid.');
                  $('.email').addClass('input--invalid');
                }
			});
            
            $('.form-wizard-next-btn-personal').click(function() {
				var next = $(this);
                if( $('.first_name').val() =="" ) {
                  clearPersonalError();
                  $('.qq_fname_error').html('This field is required.');
                  $('.first_name').addClass('input--invalid');
                } else if($('.last_name').val() =="") {
                  clearPersonalError();
                  $('.qq_lname_error').html('This field is required.');
                  $('.last_name').addClass('input--invalid');
                } else if($('.company').val() =="") {
                  clearPersonalError();
                  $('.qq_company_error').html('This field is required.');
                  $('.company').addClass('input--invalid');
                }else{
                    clearPersonalError();
    				next.parents('.form-wizard-content').removeClass('show');
    				next.parents('.form-wizard-content').next('.form-wizard-content').addClass('show');
    				$(document).find('.form-wizard-content').each(function(){
    					if($(this).hasClass('show')){
    						var formAtrr = $(this).attr('data-tab-content');
    						$(document).find('.form-wizard-wrapper li a').each(function(){
    							if($(this).attr('data-attr') == formAtrr){
    								$(this).addClass('active');
    								var innerWidth = $(this).innerWidth();
    								var position = $(this).position();
    								$(document).find('.form-wizardmove-button').css({"left": position.left, "width": innerWidth});
    							}else{
    								$(this).removeClass('active');
    							}
    						});
    					}
    				});
                }
			});
            $('.form-wizard-next-btn-location').click(function() {
				var next = $(this);
                if( $('.city').val() =="" ) {
                  clearLocationError();
                  $('.qq_city_error').html('This field is required.');
                  $('.city').addClass('input--invalid');
                } else if($('.state').val() =="") {
                  clearLocationError();
                  $('.qq_state_error').html('This field is required.');
                  $('.state').addClass('input--invalid');
                } else if($('.country').val() =="") {
                  clearLocationError();
                  $('.qq_country_error').html('This field is required.');
                  $('.country').addClass('input--invalid');
                }else{
                    clearLocationError();
    				next.parents('.form-wizard-content').removeClass('show');
    				next.parents('.form-wizard-content').next('.form-wizard-content').addClass('show');
    				$(document).find('.form-wizard-content').each(function(){
    					if($(this).hasClass('show')){
    						var formAtrr = $(this).attr('data-tab-content');
    						$(document).find('.form-wizard-wrapper li a').each(function(){
    							if($(this).attr('data-attr') == formAtrr){
    								$(this).addClass('active');
    								var innerWidth = $(this).innerWidth();
    								var position = $(this).position();
    								$(document).find('.form-wizardmove-button').css({"left": position.left, "width": innerWidth});
    							}else{
    								$(this).removeClass('active');
    							}
    						});
    					}
    				});
                }
			});

            $('.form-wizard-next-btn-phone').click(function() {
				var next = $(this);
                if( $('.phone').val() =="" ) {
                  $('.qq_phone_error').html('This field is required.');
                  $('.phone').addClass('input--invalid');
                }else{
                    $('.qq_phone_error').html('');
                    $('.phone').removeClass('input--invalid');
    				next.parents('.form-wizard-content').removeClass('show');
    				next.parents('.form-wizard-content').next('.form-wizard-content').addClass('show');
    				$(document).find('.form-wizard-content').each(function(){
    					if($(this).hasClass('show')){
    						var formAtrr = $(this).attr('data-tab-content');
    						$(document).find('.form-wizard-wrapper li a').each(function(){
    							if($(this).attr('data-attr') == formAtrr){
    								$(this).addClass('active');
    								var innerWidth = $(this).innerWidth();
    								var position = $(this).position();
    								$(document).find('.form-wizardmove-button').css({"left": position.left, "width": innerWidth});
    							}else{
    								$(this).removeClass('active');
    							}
    						});
    					}
    				});
                }
			});
            $('.form-wizard-next-btn').click(function() {
				var next = $(this);
                next.parents('.form-wizard-content').removeClass('show');
                next.parents('.form-wizard-content').next('.form-wizard-content').addClass('show');
                $(document).find('.form-wizard-content').each(function(){
                    if($(this).hasClass('show')){
                        var formAtrr = $(this).attr('data-tab-content');
                        $(document).find('.form-wizard-wrapper li a').each(function(){
                            if($(this).attr('data-attr') == formAtrr){
                                $(this).addClass('active');
                                var innerWidth = $(this).innerWidth();
                                var position = $(this).position();
                                $(document).find('.form-wizardmove-button').css({"left": position.left, "width": innerWidth});
                            }else{
                                $(this).removeClass('active');
                            }
                        });
                    }
                });
			});
			$('.form-wizard-previous-btn').click(function() {
				var prev =$(this);
				prev.parents('.form-wizard-content').removeClass('show');
				prev.parents('.form-wizard-content').prev('.form-wizard-content').addClass('show');
				$(document).find('.form-wizard-content').each(function(){
					if($(this).hasClass('show')){
						var formAtrr = $(this).attr('data-tab-content');
						$(document).find('.form-wizard-wrapper li a').each(function(){
							if($(this).attr('data-attr') == formAtrr){
								$(this).addClass('active');
								var innerWidth = $(this).innerWidth();
								var position = $(this).position();
								$(document).find('.form-wizardmove-button').css({"left": position.left, "width": innerWidth});
							}else{
								$(this).removeClass('active');
							}
						});
					}
				});
			});
		});
        
    });
    function clearPersonalError(){
      $('.qq_fname_error').html('');
      $('.first_name').removeClass('input--invalid');
      $('.qq_lname_error').html('');
      $('.last_name').removeClass('input--invalid');
      $('.qq_company_error').html('');
      $('.company').removeClass('input--invalid');
    }
    function clearLocationError(){
      $('.qq_city_error').html('');
      $('.city').removeClass('input--invalid');
      $('.qq_state_error').html('');
      $('.state').removeClass('input--invalid');
      $('.qq_country_error').html('');
      $('.country').removeClass('input--invalid');
    }
    function popupTranslate(lang){
      if(lang=='English'){
          header = 'Just a Quote or Make an Offer';
          phara1 = 'At Genemco, we price all of our inventory at a very competitive 50% of the new cost. That being said, we are always open to offers from our customers.';
          phara2 = 'Please fill out your information below with an offer, and our friendly team will get in contact with you as soon as possible!';
          txtPrefLang = 'Preferred Language:';
          txtEmail = 'Email Address <i>(to Discuss Quote)</i>';
          txtPhone = 'Phone <i>(to Discuss Quote)</i>';
          txtFirstName = 'First Name';
          txtLastName = 'Last Name';
          txtCompany = 'Company';
          txtOfferAmount = 'Offer Amount';
          txtComment = 'Optional Comments or Message about the product.';
          txtSubmit = 'Submit';
          txtCity = 'City';
          txtState = 'State';
          txtCountry = 'Country';
          txtSelectCountry = 'Select your country';
          contact_details = 'Contact Details';
          contact_name = 'Name';
          contact_company = 'Company';
          contact_email = 'Email';
          contact_phone = 'Phone';
          contact_address = 'Address';
        }else{
          header = 'Solo un Presupuesto o Hacer una Oferta';
          phara1 = 'En Genemco, fijamos el precio de todo nuestro inventario a un competitivo 50% del costo nuevo. Dicho esto, siempre estamos abiertos a ofertas de nuestros clientes.';
          phara2 = '¡Por favor, complete su información a continuación con una oferta y nuestro amable equipo se pondrá en contacto con usted lo antes posible!';
          txtPrefLang = 'Idioma preferido:';
          txtEmail = 'Correo Electrónico <i>(Para Discutir la Cotización)</i>';
          txtPhone = 'Teléfono <i>(Para Discutir la Cotización)</i>';
          txtFirstName = 'Nombre';
          txtLastName = 'Apellido';
          txtCompany = 'Empresa';
          txtOfferAmount = 'Oferta';
          txtComment = 'Otras Preguntas o Comentarios sobre el producto.';
          txtSubmit = 'Enviar formulario';
          txtCity = 'Ciudad';
          txtState = 'Estado';
          txtCountry = 'País';
          txtSelectCountry = 'Selecciona tu pais';
          contact_details = 'Detalles de contacto';
          contact_name = 'Nombre';
          contact_company = 'Empresa';
          contact_email = 'Correo Electrónico';
          contact_phone = 'Teléfono';
          contact_address = 'Dirección';
        }
        $('.popup_header').html(header);
        $('.phara1').html(phara1);
        $('.phara2').html(phara2);
        $('.txtPrefLang').html(txtPrefLang);
        $('.txtEmail').html(txtEmail);
        $('.txtPhone').html(txtPhone);
        $('.txtFirstName').html(txtFirstName);
        $('.txtLastName').html(txtLastName);
        $('.txtCompany').html(txtCompany);
        $('.txtOfferAmount').html(txtOfferAmount);
        $('.txtComment').html(txtComment);
        $('.txtCity').html(txtCity);
        $('.txtState').html(txtState);
        $('.txtCountry').html(txtCountry);
        $('.txtSelectCountry').html(txtSelectCountry);
        $('.form__submit_quick_quote').val(txtSubmit);
        $('.contact-details-header').html(contact_details);
        $('.contact_name').html(contact_name);
        $('.contact_company').html(contact_company);
        $('.contact_email').html(contact_email);
        $('.contact_phone').html(contact_phone);
        $('.contact_address').html(contact_address);
        $('.contact_preflang').html(txtPrefLang);
    }
    
    function getCookie(cname) {
      let name = cname + "=";
      let decodedCookie = decodeURIComponent(document.cookie);
      let ca = decodedCookie.split(';');
      for(let i = 0; i <ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') {
          c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
          return c.substring(name.length, c.length);
        }
      }
      return "";
    } 

    function setCookie(name, value, daysToLive) {
      var cookie = name + "=" + encodeURIComponent(value);
    
      if(typeof daysToLive === "number") {
          /* Sets the max-age attribute so that the cookie expires
          after the specified number of days */
          cookie += "; max-age=" + (daysToLive*24*60*60);
          
          document.cookie = cookie;
      }
    }

    function validates(evt) {
        var theEvent = evt || window.event;
      
        // Handle paste
        if (theEvent.type === 'paste') {
            key = event.clipboardData.getData('text/plain');
        } else {
        // Handle key press
            var key = theEvent.keyCode || theEvent.which;
            key = String.fromCharCode(key);
        }
        var regex = /[0-9]|\./;
        if( !regex.test(key) ) {
          theEvent.returnValue = false;
          if(theEvent.preventDefault) theEvent.preventDefault();
        }
    }
  </script>
  <style>
  @media screen and (min-width: 768px){
  .fancybox__content {
    border-radius: 5px;
    width: 700px;
  }
  }
</style>
</div>